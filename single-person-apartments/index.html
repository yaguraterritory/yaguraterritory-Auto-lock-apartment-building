<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>単身者向けオートロックマンション地図</title>
<style>
    /* 共通フォント設定：iOS, Windows, Androidで最適なゴシック体を表示 */
    body, html { 
      margin:0; 
      padding:0; 
      height:100%; 
      font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
    }
    #map { width:100%; height:100%; }

    /* 戻るボタンのスタイル：サイズアップと目立つ配色へ変更 */
    .back-button {
      position: absolute;
      top: 15px;
      left: 15px;
      z-index: 1001;
      
      background: #007bff; /* 青色の背景に変更して目立たせる */
      color: white;        /* 文字を白に */
      text-decoration: none;
      padding: 14px 24px;  /* サイズを拡大 */
      border-radius: 12px; /* 角を丸くしてボタン感を強調 */
      font-weight: bold;
      font-size: 18px;     /* 文字サイズをアップ */
      
      display: flex;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3); /* 影を強くして浮き上がらせる */
      border: 2px solid white; /* 白い枠線を追加 */
      transition: transform 0.2s; /* タップ時の動き */
    }

    .back-button:hover {
      background: #3399ff;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35);
      transform: none;   /* ← 動かさない */
    }

    /* タップ・クリック時の反応 */
    .back-button:active {
      background: #0056b3;
      transform: scale(0.95);
    }

    /* 戻るアイコン（三角形）の調整 */
    .back-icon {
      margin-right: 8px;
      font-size: 16px;      /* 三角形は大きく見えやすいため少しサイズを調整 */
      position: relative;
      top: -1px;           /* 文字との上下中央を合わせるための微調整 */
    }

    /* スマホ（幅600px以下）でも十分な大きさを維持 */
    @media (max-width: 600px) {
      .back-button {
        padding: 10px 18px;
        font-size: 15px;
      }
    }

    /* タイトルを右上に配置し、はみ出しを防止 */
    .map-title {
      position: absolute;
      top: 15px;
      right: 15px;
      z-index: 1000;

      background: rgba(0, 0, 0, 0.55); /* ← グレー系で控えめに */
      color: #f1f1f1;

      padding: 8px 14px;              /* ← 少し小さく */
      border-radius: 6px;

      font-size: 14px;                /* ← 文字を小さめに */
      font-weight: 500;               /* ← 太字をやめる */
      box-shadow: none;               /* ← 影を消す */

      max-width: 50%;
      text-align: center;
    }

    /* PC・タブレット向けの調整 */
    @media (min-width: 768px) {
      .map-title {
        right: 20px;
        font-size: 20px;
        padding: 15px 25px;
        max-width: 400px;
      }
      .map-ui {
      top: 20px;
      }
    }

    .map-ui {
    position: absolute;
    top: 15px;
    z-index: 1000;
    }

</style>
</head>
<body>
  <a href="../menu.html" class="back-button map-ui">
    <span class="back-icon">◀</span> 戻る
  </a>
  <div id="map"></div>
  <div class="map-title map-ui">単身者向けマンション</div>

<script>
    const DEFAULT_GID = "1854135294";
    let map;
    let apartmentMarkerObjects = [];
    let userMarker = null;
    let shadowMarker = null;
    let isGrowing = true;
    const APT_SCALE_FACTOR = 70;

    const INITIAL_CENTER = { lat: 35.012, lng: 135.965 };

    // アイコンサイズを決定する関数
    function getMarkerScale() {
      const w = window.innerWidth;
      const h = window.innerHeight;

      // 【スマホ・小型デバイス判定】
      // 縦長判定 (h > w) を削除し、幅 768px 以下なら一律スマホ用を適用
      if (w <= 768) {
        return { 
          apt: 0.1,
          user: 20     
        }; 
      }

      // 【中型タブレット・スマホ横持ち】
      if (w <= 1024) {
        return { 
          apt: 0.05,
          user: 15 
        }; 
      }
      
      // 【PC・大型タブレット】
      // 密集地でも道路がしっかり見えるように限界まで小さく設定
      return { 
        apt: 0.03,     // 0.06から半減（極小）
        user: 8        // 10からさらに縮小
      };
    }

    const apartments = [
      //01-AOJI
      { name: "エスペランツ琵琶湖", position: { lat: 35.0051359, lng: 135.9730057 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1TdiM6GPLCYaT70wioUzGB5JVYHq29VRdtGT0pc_N208/edit?usp=drive_link", active: false },
      { name: "カントリーレジデンス草津", position: { lat: 35.0032152, lng: 135.9868715 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1d1x0M27dR6ITYP2erOM_GaOR1ysIkbX-Mcr4KUhl8CY/edit?usp=drive_link",  active: false },
      { name: "コンフォート太陽", position: { lat: 35.0064726, lng: 135.9735742 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1EiqPg7YuxxafSp3qADC1_91UomIPsGyjKJlRZEuez4k/edit?usp=drive_link",  active: false },
      { name: "サンクリエート ハヤシ", position: { lat: 35.0084387, lng: 135.9759318 }, sheetUrl: "https://docs.google.com/spreadsheets/d/12cqYvrOSa0VV3GLSZ9g_XoGeDZHmg0-CFKk7CTEhH5g/edit?usp=drive_link", active: false },
      //02-OKAMOTO
      { name: "アンテヴォルテ", position: { lat: 34.9939858, lng: 135.9793737 }, sheetUrl: "https://docs.google.com/spreadsheets/d/18p7ZaQ3jKCytbAgh8YCwIKS4N7bx0UPol5SqK-3-j6I/edit?usp=drive_link", active: false },
      { name: "グランディール若草", position: { lat: 34.9906314, lng: 135.973646 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1q9O8ul1CrHawfC9B_O5ew3YugqgWlUA6UHsnFUEoxow/edit?usp=drive_link", active: false },
      { name: "グリーンロード山手", position: { lat: 34.9908274, lng: 135.9714285 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1VGkd_UuhEHkKWuyckR0dJz8aLwSidLnLzfnVXEfDIg0/edit?usp=drive_link", active: false },
      { name: "グリーンロード山手Ⅱ", position: { lat: 34.9909662, lng: 135.9718289 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1RoXv8wnAAHmBfuKbUNid56zGBrgOirFzY-H_hl8_Pf0/edit?usp=drive_link", active: false },
      { name: "ビアンクール", position: { lat: 34.9896603, lng: 135.9663392 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1FB5dxOg6-mQW8UYa4K6dPo2-dN4EiNxpTEAXsCgQvkI/edit?usp=drive_link", active: false },
      //03-OIWAKE
      { name: "DESIGNSQUARE AN", position: { lat: 35.0022602, lng: 135.9635991 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1IMDWPTmWzBbU6jhtY-Egl-wmVrJb4ykW8A4o1qg5hvA/edit?usp=drive_link", active: false },
      { name: "Prendreかがやき", position: { lat: 34.9940884, lng: 135.9650347 }, sheetUrl: "https://docs.google.com/spreadsheets/d/19dEI8C8_CMWxr-578-_cpQKiXiNgEFJTsHs76Jn9wqU/edit?usp=drive_link", active: false },
      { name: "sundance", position: { lat: 35.0052489, lng: 135.9648684 }, sheetUrl: "https://docs.google.com/spreadsheets/d/15rBhPLi4DlwzBwrBPWeTP1xl2OHmahc2m_jrn24Paoo/edit?usp=drive_link", active: false },
      { name: "エスポワールNAKAJIMA", position: { lat: 35.0015408, lng: 135.9626654 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1xnH7TFWMRj0BDcaaa3NR6W3aaTRXUqx5IRBbWE9CgcI/edit?usp=drive_link", active: false },
      { name: "シャンドフルール竹村", position: { lat: 35.0063598, lng: 135.9666278 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1gxP-BR9FD4eH-thbhT6dzXOaV28sV2xnb3I4p0_dn5Y/edit?usp=drive_link", active: false },
      { name: "シャンポールU", position: { lat: 35.0061796, lng: 135.9616011 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ExNj4SQ7IK57C1E9ZwElDUzeqeffgrhgOM3Jw_1ih94/edit?usp=drive_link", active: false },
      { name: "ベルレーブ", position: { lat: 35.0067364, lng: 135.9608802 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1IBgwxllNiTbrQgaDtQK0oLCYNHscd_VmLXGwy-Zmsv4/edit?usp=drive_link", active: false },
      { name: "草津ロイヤルマンション", position: { lat: 35.0065419, lng: 135.9614209 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1togytCjmGCR-EVoWkhqyYNvOBbI3xbUr8cneI5coCWg/edit?usp=drive_link", active: false },
      //04-oiwakeminami
      { name: "GL Plus HIGASHIYAGURA", position: { lat: 35.0032095, lng: 135.957249 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Tv4e8Y6bitfcomBH_znD3qA0Zh_SK1vzphEH9JrLFCw/edit?usp=drive_link", active: true },
      { name: "LILAC", position: { lat: 34.9990835, lng: 135.9585691 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1SICmY1qjQeZdkJKDhqpr1vI85atnjUq-yeZ0Use_zrk/edit?usp=drive_link", active: true },
      { name: "LILACⅡ", position: { lat: 34.9988131, lng: 135.9591681 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1KY7ctxFrPHXtcNISknAPHU3a0hr55SQPrIytJda__c0/edit?usp=drive_link", active: true },
      { name: "Reveかがやき", position: { lat: 34.9925608, lng: 135.9641142 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1IQdGwqUUyhVOdr7pOkWhm1vI6QUGKZOdPWxtLGh-4oU/edit?usp=drive_link", active: true },
      { name: "ヴィラ・カンパーニュ", position: { lat: 34.9965591, lng: 135.9585019 }, sheetUrl: "https://docs.google.com/spreadsheets/d/15Viz5HcWIwibNP5Yr2n1Z9tt5Di0AwdyPNm_oH7UqHM/edit?usp=drive_link", active: true },
      { name: "ヴェル・ベルビィW・W", position: { lat: 34.996422, lng: 135.9585818 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ij5FFS74gLQ_K-6iNV6DvckI286yL9wZL39CW9HTyjM/edit?usp=drive_link", active: true },
      { name: "クオーレ南草津", position: { lat: 35.000245, lng: 135.960011 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1KAojEnfuPLOzb8WWtDoxKpfu34bMr2EDf3CRQiCdtsA/edit?usp=drive_link", active: true },
      { name: "ステラマリスⅡ", position: { lat: 34.9969532, lng: 135.9633582 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1CFBBWozMVZNG6W8APJ-ytxG__rEKop7NdHjwOTHmvWA/edit?usp=drive_link", active: true },
      { name: "メゾンエスプリ", position: { lat: 34.9999058, lng: 135.9589873 }, sheetUrl: "https://docs.google.com/spreadsheets/d/19g8IBb6cNIwFq-QQDgN2sr-g-xwuGjY18Vv67ocEpSE/edit?usp=drive_link", active: true },
      { name: "リベルタ南草津（夜）", position: { lat: 34.991212, lng: 135.9691232 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1cvmPXLjedJBfaUGQrARa-BqUbI8qa6IOm9okODBrQj0/edit?usp=drive_link", active: true },
      //05-yagura
      { name: "GRAND SOLEIL Ⅲ", position: { lat: 35.0050454, lng: 135.9526513 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1lyx2ASwuLqm_9KI-QdSYT9pA-BBHzW9FBcGLpUmbOAY/edit?usp=drive_link", active: true },
      { name: "SERENO機友", position: { lat: 35.0094772, lng: 135.9563914 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1oPfW_W6yfPObYrpIWVsOJwShUJoYtq19M1jeAXpXl68/edit?usp=drive_link", active: true },
      { name: "UCD-ARROW", position: { lat: 35.0111431, lng: 135.9538677 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1vzI6UztRHQMFWrHbM64WBHUSFNe-ClkEZdQYdW2ymGk/edit?usp=drive_link", active: true },
      { name: "エルミナリゾート南草津", position: { lat: 35.0040774, lng: 135.9517339 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ivoxc09dl29zQyn6N3zsAcRO3a3htKa3L2sB4J69K34/edit?usp=drive_link", active: true },
      { name: "コンフォール・M", position: { lat: 35.0080278, lng: 135.9547185 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ETCly06XlDuOkQj4zF4L6jw6pwetFDnyobEileu1AVA/edit?usp=drive_link", active: true },
      { name: "サワラビヨツバ", position: { lat: 35.005226, lng: 135.9521304 }, sheetUrl: "https://docs.google.com/spreadsheets/d/11z8I0TPQX5b3aEOFfhL5d0zuRr7YZ_LZlA9KsjBVs20/edit?usp=drive_link", active: true },
      { name: "リヴィエール・ベルジュ", position: { lat: 35.0105803, lng: 135.9569152 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1jqnKKeLNcj9EnVnA3p6VrmcxZ-UXNjg_eLJ0yJFmT-k/edit?usp=drive_link", active: true },
      { name: "レゾネイド", position: { lat: 35.0086504, lng: 135.9534451 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1vXuqsRrYiEoBhBmLZvnOy4U9ycpURRXoua2driVBwtc/edit?usp=drive_link", active: true },
      { name: "翔耀一号館", position: { lat: 35.0104277, lng: 135.9540435 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1O9h7pW8CgaQ2GPmlY_18nxT0hv0-SSvqq1oLgRwgTAI/edit?usp=drive_link", active: true },
      //06-higashiyagura
      { name: "Angel Plaza 南草津駅前", position: { lat: 35.0044756, lng: 135.9528029 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1AfH9gB3oM6jP7WntKDupa6mqwKYBNjiXnPw3T00WYhU/edit?usp=drive_link", active: true },
      { name: "エースマンション", position: { lat: 34.9999195, lng: 135.958385 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1nXPWIgx2vimxvb_A-uKnUwGKaZrA9VU2Q-69w69TktQ/edit?usp=drive_link", active: true },
      { name: "エンゼルプラザ・イーストⅠ", position: { lat: 35.0049842, lng: 135.9532515 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1fIc29Rh2JFmMEaKZhuClWO8Vu9suEuVSa5nVVrT9IJk/edit?usp=drive_link", active: true },
      { name: "エンゼルプラザ・イーストⅡ", position: { lat: 35.004949, lng: 135.9544115 }, sheetUrl: "https://docs.google.com/spreadsheets/d/14Bg_JmDYZaQoL0exCUSS7ZC76XU_CAAakoo8o7nMm68/edit?usp=drive_link", active: true },
      { name: "コージーコート南草津", position: { lat: 35.0055752, lng: 135.9542425 }, sheetUrl: "https://docs.google.com/spreadsheets/d/13Ykw0Cttql6wl1sPcClIG9gI0MyFp4OLy-QxrhTy_y0/edit?usp=drive_link", active: true },
      { name: "スチューデンHIROSE", position: { lat: 34.999783, lng: 135.955575 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1xoxDEx_3fYJGqMciyyKARinHVXv0lDK0IWjUNXppLhE/edit?usp=drive_link", active: true },
      { name: "ロイヤルステージ", position: { lat: 35.0076439, lng: 135.9565015 }, sheetUrl: "https://docs.google.com/spreadsheets/d/11HRe1lm1f2xLLVf69nmffnX9DJ2GfeHwXgD2TglncpM/edit?usp=drive_link", active: true },
      { name: "野路一番館", position: { lat: 35.0001624, lng: 135.9554606 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1BF5XXv0hWTCAPQCiSu2R0tRriKu43aursGqHlh9qzu8/edit?usp=drive_link", active: true },
      //07-nishiyagura
      { name: "avant garde", position: { lat: 35.0108405, lng: 135.9474933 }, sheetUrl: "https://docs.google.com/spreadsheets/d/10JYFus_G9DEJIeSl55aWtG4Z6-detX5yqFOVwDmwc-Y/edit?usp=drive_link", active: true },
      //08-kusatsu
      { name: "Prima Villa 本陣", position: { lat: 35.016057, lng: 135.9593726 }, sheetUrl: "https://docs.google.com/spreadsheets/d/13w4UPdIKILgJWd5smddn5fh87Ja7dGN47rsYBXAFdxA/edit?usp=drive_link", active: true },
      { name: "シャーメゾングランヴィア10", position: { lat: 35.0171388, lng: 135.9640131 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1xXEPIUOQ-sklSXr26KvLq6A914ccqe20TMiQYDS6vz4/edit?usp=drive_link", active: true },
      { name: "ハイツ宮ノ森", position: { lat: 35.0135551, lng: 135.9553018 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1XBY_anXaVj16zDsuymyElp7ZEMtz6-qs-Di3UhEVf8s/edit?usp=drive_link", active: true },
      { name: "メゾン草津本陣", position: { lat: 35.0152777, lng: 135.9566049 }, sheetUrl: "https://docs.google.com/spreadsheets/d/13MMJnCNSKtWLNsAFbbVtFMqIg1gzfPrOW_V0VriRxV0/edit?usp=drive_link", active: true },
      { name: "ラフィーネ千代田", position: { lat: 35.0151663, lng: 135.9590291 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1rY7H2Mb8bFapwLEgJI_JiH8p9YS3IhwcFxtWn4QkMZc/edit?usp=drive_link", active: true },
      //09-minamikusatsu
      { name: "Atlantide392", position: { lat: 35.0034536, lng: 135.9442255 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1QBiaC34JIEXyUgGC9wnxVkPxE1_NWtvoDgUyPkguv94/edit?usp=drive_link", active: true },
      { name: "Bene南草津", position: { lat: 35.0042273, lng: 135.944174 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1UYm_qXYhjh0QO3Lz1JOuCVAw0PSeiA0dUrpgb9c4NKA/edit?usp=drive_link", active: true },
      { name: "Bloom Maison南草津", position: { lat: 35.0038551, lng: 135.9423684 }, sheetUrl: "https://docs.google.com/spreadsheets/d/14bB5tel9sz9XIWhzPlLaPLu0bjLp4omT9mlLIQNsXpM/edit?usp=drive_link", active: true },
      { name: "f99", position: { lat: 35.0030218, lng: 135.9412178 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1NeSzOE6a2NuBFtT0by1_ElRONh1WFaauBmzXUpHrbHA/edit?usp=drive_link", active: true },
      { name: "GRAN NOVA", position: { lat: 35.0055442, lng: 135.9430019 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1tXw_LwDpmwdEHQgjc1F8MURiGhkh_amPJaXJ3hm23ls/edit?usp=drive_link", active: true },
      { name: "Grand Marry Bell ST", position: { lat: 35.0031332, lng: 135.9456111 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1NIneSasf64BekxV2-cGuRrENIQEGgyu-882MZxt-9_I/edit?usp=drive_link", active: true },
      { name: "Honest Court南草津", position: { lat: 35.0025836, lng: 135.9421183 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1jH6ehhOnzZ-ACU30JyR4qJhZ-foNB8GXQ4viRL5_oVQ/edit?usp=drive_link", active: true },
      { name: "KDXレジデンス南草津", position: { lat: 35.0037167, lng: 135.9456873 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1SwCxH_FvpKUeMb4hEtvCC1mmDCvO5oaBPCr0fuxmkU4/edit?usp=drive_link", active: true },
      { name: "Nヴィレッジ", position: { lat: 35.0061241, lng: 135.9401918 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1N3JqO2NUm2izG6AhsdvSzNX7kXtf7JMXWZgDqOUG4Co/edit?usp=drive_link", active: true },
      { name: "イストアール", position: { lat: 35.0021487, lng: 135.9435531 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1-oaEnGulBdiRKqugCdgUXX-Y-yeFRMA4KQ3HGeM0UpQ/edit?usp=drive_link", active: true },
      { name: "ヴェルジュ南草津Ⅱ", position: { lat: 35.0050195, lng: 135.9404849 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1zvu8Er3o_fJ1sF522i7q0KHSeWhsTZ4k-e69_7TjjVY/edit?usp=drive_link", active: true },
      { name: "ヴォール レーベン", position: { lat: 35.0044594, lng: 135.9421424 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1n3G4W7OV-UAblDRVZuzbFq8R3L2HqBQu2QOJFZ0bg2A/edit?usp=drive_link", active: true },
      { name: "カルムパーチェス", position: { lat: 35.003253, lng: 135.943001 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1aRSaltlIMTvMbUckcqeld9t1pE-wWRadjlQS3iTWQFY/edit?usp=drive_link", active: true },
      { name: "クオリア", position: { lat: 35.0044504, lng: 135.9407577 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1EQlrmJHZLPRFEfz2xt0Dd_X1LUyvgZ6acfjK9qeIF5E/edit?usp=drive_link", active: true },
      { name: "グローリ南草津Ⅱ", position: { lat: 35.005131, lng: 135.9477118 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1vIhypTllrzFrBif7TI1Raoq488v48IUMYspAfSCAbb8/edit?usp=drive_link", active: true },
      { name: "セジュール・ユタカ", position: { lat: 35.0042453, lng: 135.9403132 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1MdnOVPnHZf6o_rCcZVTCFmikNEVNcvI4Qb28kxNGZ1s/edit?usp=drive_link", active: true },
      { name: "セレンティ", position: { lat: 35.0031715, lng: 135.9394767 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1B_AQha-KtcccSnefOmBxMd69u_q7DxObY9o27qc-zJU/edit?usp=drive_link", active: true },
      { name: "ティ・ア・モール", position: { lat: 35.0024652, lng: 135.9452816 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1C_Y2RipdcwQgcFoFcFcNMsublo5tcv1qzdOrPwHzW3M/edit?usp=drive_link", active: true },
      { name: "プリエール ソシア ", position: { lat: 35.0043235, lng: 135.943737 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Vpn_BaHWYvAbrU2J-R4P1_AMrBYJO96pqf5j6_QfCaI/edit?usp=drive_link", active: true },
      { name: "プリエール南草津", position: { lat: 35.0022299, lng: 135.94454 }, sheetUrl: "https://docs.google.com/spreadsheets/d/12mF4ya8Wyfg0GOdji0x0IYxLNC-CTdRVrTv_ePmci-Q/edit?usp=drive_link", active: true },
      { name: "メゾン・ド・ベルーフ", position: { lat: 35.0023346, lng: 135.9430411 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1eRydCeG1rh560EP0aPtY-8xijDL7MqC3HJNciSzM-Ig/edit?usp=drive_link", active: true },
      { name: "メゾン・ド・フォンテ", position: { lat: 35.0015477, lng: 135.9442006 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1tqZi0iBQ4pYaszhOQYsiCFYXGE2DhQQl8tSCUPyQEyQ/edit?usp=drive_link", active: true },
      { name: "メゾン・ド・メルシー", position: { lat: 35.0019652, lng: 135.9449502 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1YVPOzUNQzJE7JKYImfiD1_YH2ClxgXuY_j2NCx3Fajk/edit?usp=drive_link", active: true },
      { name: "メゾンクレールⅢ", position: { lat: 35.0042959, lng: 135.9427629 }, sheetUrl: "https://docs.google.com/spreadsheets/d/16jNZWwkDvgMqOfk4pkrRXQw07EYAeHwq_xqWFyj89x4/edit?usp=drive_link", active: true },
      { name: "リュミエール", position: { lat: 35.0027162, lng: 135.9428843 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Vu4GwwduZ87RzqmmLLFDOACY_1nIDhjFny1G7R2f6VY/edit?usp=drive_link", active: true },
      { name: "太陽プラザ南草津駅前", position: { lat: 35.0022328, lng: 135.9455474 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1n9rSu3A7nQT0yPsXvZ_aTUWLANE9vvpq5ToL3khgBG0/edit?usp=drive_link", active: true },
      //10-higashiyagura
      { name: "ハイツ戸苅", position: { lat: 35.0140779, lng: 135.9662503 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1H-Y-ueqUxqQkTjurLAJC42xNKQgqMdcEGgPQmI10FpA/edit?usp=drive_link", active: true },
      //11-noji
      { name: "ALTA南草津ビュー", position: { lat: 34.99230016392161, lng: 135.94707913982825 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1i2UDj4ylY2aJw8A0SsfpYhzsbCEo74F0KnqP_dMhVIk/edit?usp=drive_link", active: false },
      { name: "e.e.mansion", position: { lat: 35.0036664001734, lng: 135.94926104391112 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1NE3nZbSTbCHKlt5uKoFrQpwBJiPActLk-QJ7saUpd7o/edit?usp=sharing", active: false },
      { name: "EM1022", position: { lat: 35.001107917241754, lng: 135.95028709213818 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1y2PXcTP_stFQeUJoimLAG3YwNsdXc-YOfYiQCe42EvE/edit?usp=sharing", active: false },
      { name: "feliciaうさぎ", position: { lat: 34.99224881746921, lng: 135.95046913264682 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1LTo-fo9IyR0iKME3PTD6fa5jZRmLooXbtyUFaxTp45A/edit?usp=sharing", active: false },
      { name: "grande lago hoei Ⅱ", position: { lat: 34.99466397373272, lng: 135.94987554789458 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1FJxjcb1kxcTBve5dN3XlFq9tcTK0aAGM4Nv2INo4wd8/edit?usp=sharing", active: false },
      { name: "I.O.Rビル", position: { lat: 35.0039379, lng: 135.949666 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1u0sHffVGA2zimvpYTEe9OR7OgutDA5jBUnRRNrESofY/edit?usp=sharing", active: false },
      { name: "MF", position: { lat: 34.996294155181616, lng: 135.94680283824766 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1UhJHFPsK-VKfSbuaf5NkThvwdzfEO9ZrEBBCqnbNUQo/edit?usp=sharing", active: false },
      { name: "MNK-2", position: { lat: 35.002035152411715, lng: 135.95303455630278 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1J-JmNjSYEdAD1hWGjBd6u5u2DYuG6lrUXyrrbpuNFnw/edit?usp=sharing", active: false },
      { name: "MNK-5", position: { lat: 35.00330583696294, lng: 135.95037949598918 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Sbsn9NxsCuLen87s5X97eSGbc-9vFG3P1tcqDwclGDM/edit?usp=sharing", active: false },
      { name: "MNK-6", position: { lat: 35.00375556963579, lng: 135.94999732923677 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Ii_fOh7Blxc5I-53FQqtAfltPw6aGjhxTtwRk7Bh_bo/edit?usp=sharing", active: false },
      { name: "N&Sレジデンス", position: { lat: 35.00344285645369, lng: 135.94960863984423 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1NsEnOjGKdJhQzm_uEN0BDD2O3OdhugjiD2Xlen7fTGc/edit?usp=sharing", active: false },
      { name: "Provence", position: { lat: 34.995624312082064, lng: 135.9459302568788 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1TDo-LZsptzOaBFhWBbrfeVAsW-z1lNR3eZHU8rKLNJ8/edit?usp=sharing", active: false },
      { name: "TOMO・STAGE98", position: { lat: 35.00342322003368, lng: 135.95176298811725 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1AnyhXDjqxiHk6AKQJwVZEV88JS03jPWKCwJ3iODkPfU/edit?usp=sharing", active: false },
      { name: "アフロディーテ", position: { lat: 34.99743425891007, lng: 135.94815398231154 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Sft_aBZy3vDi0OTEdFXI_-Vw_c3OyLgQvJcNjRPoOHY/edit?usp=sharing", active: false },
      { name: "インプルーブKK", position: { lat: 34.998400351336585, lng: 135.94524684250013 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1L1ySb_RK7OUaOicVxXK_YYtUg3JKzO_WiFo_1oF9TdY/edit?usp=sharing", active: false },
      { name: "エスポワール", position: { lat: 35.00172337409738, lng: 135.94957370089693 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1o_LEyoU7h4qj0I8Y4gC3OMUCvBrOk0jnAtPovXBjgU8/edit?usp=sharing", active: false },
      { name: "エラン・ビタールⅢ", position: { lat: 35.00336979373266, lng: 135.95085338541455 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1eeKbW691nHoyiPhAgzf-rb3S3NlTBazYmvFQmiILXJs/edit?usp=sharing", active: false },
      { name: "エンゼルプラザeastⅢ", position: { lat: 35.00286688024553, lng: 135.95068549226002 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1oSoLjAomBtIhFqXSFlhoECht9mTp-WpmJ7_yNRu0Q74/edit?usp=sharing", active: false },
      { name: "クレアトゥール21", position: { lat: 35.002595949304066, lng: 135.94979029303357 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1D04fqH1yUni0j9aAX-XQOh_9pWuklX1sLciG1UhUXHs/edit?usp=sharing", active: false },
      { name: "グレースフル18", position: { lat: 34.9986245276293, lng: 135.95393982719904 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1UYwFn2R3TNSebaFQWhvBpjbttcpih4O3sCdZ7ppH_6o/edit?usp=sharing", active: false },
      { name: "コープ美山Ⅱ", position: { lat: 34.99558918091147, lng: 135.9493521824648 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1z8DtZiO7TRUqZFO4Z8gLruYzAqtDu8RmSPQYaGN6MFo/edit?usp=sharing", active: false },
      { name: "コーポ吉井", position: { lat: 34.99903090406813, lng: 135.95401300522727 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1pMAdcROFYKdxbySxNZumAFQxlw1WoQgpeQHEDLT9v5k/edit?usp=sharing", active: false },
      { name: "サンシャイン", position: { lat: 35.00455185047133, lng: 135.94937920481462 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1-9DRUx9dbSJdyXfbw3VhzzXY1NSAzH9lVq7PhqSgBVU/edit?usp=sharing", active: false },
      { name: "サンレジデンス玉川", position: { lat: 34.9971620, lng: 135.9483268 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Bk6vY0y44y7sLXxMrn2swVzMbtwb6itriJFl4H7urxU/edit?usp=drivesdk", active: false },   
      { name: "プリオールZEN壱番館", position: { lat: 35.00455855515841, lng: 135.9503713340525 }, sheetUrl: "https://docs.google.com/spreadsheets/d/176mgBF1XW1RD9s3f7cdefQvhh_ylFP5bSNyggSsDSck/edit?usp=sharing", active: false },
      { name: "プリオールZEN弐番館", position: { lat: 35.004081017451284, lng: 135.95053284330035 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1zthAOzXmM_T-3NQ95mGmrH_HAtv-EdvLrKUgMug7I6c/edit?usp=sharing", active: false },
      { name: "ユニエトワール南草津", position: { lat: 34.996302462004444, lng: 135.94881987772024 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1b-kd9TDb2QDQRLKeL5UZNdYgvfiwuSdpBVJwWU2IpMg/edit?usp=sharing", active: false },
      { name: "レジデンス壽", position: { lat: 35.00310267984543, lng: 135.95013232530496 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1j7m7U2v7gIPTcKCAyh9D5vwOYt56aTUISUwngFTxQIA/edit?usp=sharing", active: false },
      { name: "茶屋後.GK", position: { lat: 34.997530701181944, lng: 135.94514821483162 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1OTTVT4rUvjM-Khkma0En1Na18BpSEh4E_zCYjRvupoQ/edit?usp=sharing", active: false },
      //12-nojihigashi
      { name: "Blezio3", position: { lat: 34.9913057, lng: 135.9522238 }, sheetUrl: "https://docs.google.com/spreadsheets/d/10OmPkMX_0q5Xmr3_J5TXam_8eJgTMQ1DBwfJLMUIvcg/edit?usp=drivesdk", active: false },
      { name: "FOR SEASON", position: { lat: 34.990695276545246, lng: 135.95622656568565 }, sheetUrl: "https://docs.google.com/spreadsheets/d/19zUSCPf4i61hY5gYhk6kADtnSnmy4gmMTVhkXuQny4w/edit?usp=sharing", active: false },
      { name: "GIRASOLE", position: { lat: 34.992636046915656, lng: 135.94994302397458 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Nqz0f39uUSxX1V9B3yyZ4h8KAAvR_5tm5fC4sC8D8P8/edit?usp=sharing", active: false },
      { name: "GROOVE南草津2", position: { lat: 34.992573458315725, lng: 135.95040610067701 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1qAOZA6bSFcvXOcEacdSvTu3EIhK-wUPoCvamWuAkvLM/edit?usp=sharing", active: false },
      { name: "Groove南草津Ⅰ", position: { lat: 34.99014741912503, lng: 135.95522816010217 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Nrge1GromPZxkw92iHueJ4jlcTMF47D7k9Fwg77yrg8/edit?usp=sharing", active: false },
      { name: "High-rise南草津", position: { lat: 34.99604964367522, lng: 135.95373461594167 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1S0wvd2wyFgBWatSzwlIBuCnvlyIswIjRCSKkssRIB8s/edit?usp=sharing", active: false },
      { name: "LAKELAND・M", position: { lat: 34.99216171653147, lng: 135.95264777017326 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1qXr0_IMopIssC9sgvUhMctjSUnhT8hHFZsW3kMauUvM/edit?usp=sharing", active: false },
      { name: "MODERNO minamikusatsu", position: { lat: 34.984649402213016, lng: 135.95564526612083 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1frU4lAffTFhnwi7wc2KfgfFNH2wyOOBWS4YDedD9grE/edit?usp=sharing", active: false },
      { name: "Racoon D-2", position: { lat: 34.99498177867366, lng: 135.95754784861126 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1yXKko3b6N0jb6no9e4__9vhc5EuTrADggvM00TeUaHI/edit?usp=sharing", active: false },
      { name: "Racoon D-3", position: { lat: 34.994806175789826, lng: 135.95859890001083 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1zmuPIsxWtminUnBhbE6WqlIdgItH0GQXywG5maXYYaI/edit?usp=sharing", active: false },
      { name: "RAINBOWCITY南草津", position: { lat: 34.99141715478413, lng: 135.95751167976175 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1RnEQpcFqu9BYs0V39IE7zbU_usprlp45XsNMy6kP_Hg/edit?usp=sharing", active: false },
      { name: "sofia", position: { lat: 34.995037565092105, lng: 135.95799577121326 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1sO7KBC994q7vLPobl52t0GFPlOXHfxg7_TgItZ0yv5I/edit?usp=sharing", active: false },
      { name: "ULTRA ONE", position: { lat: 34.99301910474062, lng: 135.95115300948882 }, sheetUrl: "https://docs.google.com/spreadsheets/d/14pLpBzK30wJ7dh29uvq7qZ1O80nF_qsVHeYP2aN_M6Y/edit?usp=sharing", active: false },
      { name: "uni emeal 草津野路", position: { lat: 34.99352249492547, lng: 135.9507934773948 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1hhv5T200MNnUilZCI4ckLGByZlx_mazCcb_ADzZdQ7k/edit?usp=sharing", active: false },
      { name: "uni eterna 南草津", position: { lat: 34.99370568046494, lng: 135.95067496339962 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1q2ISoJkjMafy2zYj6TNfKZ33okhLp7UFa7VuWpU44R4/edit?usp=sharing", active: false },
      { name: "verger南草津", position: { lat: 34.99292453829409, lng: 135.94945446499042 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Jyk7Fut48tRWFLqOKctsRVs92rrGe9EZRSrHp_rt0g8/edit?usp=sharing", active: false },
      { name: "アビエンテ", position: { lat: 34.995147884274154, lng: 135.95596011705285 }, sheetUrl: "https://docs.google.com/spreadsheets/d/12fDz_n3ddbSr0vC7xCzb3tJcdAS-jmJD0Zvf7LddK3s/edit?usp=sharing", active: false },
      { name: "アミティ", position: { lat: 34.994356690617465, lng: 135.95754831483734 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1hK-V-Bwqu0GbbnKMWuHtshCtfVSF7sF8bAR7PqUrgVA/edit?usp=sharing", active: false },
      { name: "エランビタール", position: { lat: 34.99609776848204, lng: 135.95623412174638 }, sheetUrl: "https://docs.google.com/spreadsheets/d/18hqvVNgpNCvjbDda0dvwKFONBohHHi7UHZO11A8jWMA/edit?usp=sharing", active: false },
      { name: "エリートナカノⅢ", position: { lat: 34.99481886122979, lng: 135.9529163473014 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1UOiyIUazZaqtj5kmEcMKSUFHBMDjqS_WwBWomu5X80Y/edit?usp=sharing", active: false },
      { name: "エンゼルプラザ南草津", position: { lat: 34.99280936175186, lng: 135.94930737822028 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1YyNxfdkDup6R8N11ezcmjCHM6zseIotcSILhOmLg35A/edit?usp=sharing", active: false },
      { name: "カレッジコート福井", position: { lat: 34.99835400883285, lng: 135.95500635485251 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1QF62Oihk9wAD-jAtwYGyUwDyyYbKgFK5at1yOAbUv5k/edit?usp=sharing", active: false },
      { name: "クーランデイル", position: { lat: 34.9910461126013, lng: 135.95194149811724 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1cdRRCRAJECUIrioj7zwzZaUlnJkvglF1R_-U4oK5TS0/edit?usp=sharing", active: false },
      { name: "グラフィーネ草津野路東", position: { lat: 34.99504562141574, lng: 135.9583268053337 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1mZc_BjgktDNEwx6QpaoKnmj-AaTH9mWY7ATQIMk5YuQ/edit?usp=sharing", active: false },
      { name: "サンセール加藤Ⅰ", position: { lat: 34.99462787688456, lng: 135.95817457796724 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ICnREzef4yui3RLf8unlRSYgnxf8U-juGBGjfp7xEa8/edit?usp=sharing", active: false },
      { name: "サンセール加藤Ⅱ", position: { lat: 34.99444389972131, lng: 135.95797779057378 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1q4UO1iCnO3i-vRNHQC6cUW66ZIhmdon4KDabMjYqqAA/edit?usp=sharing", active: false },
      { name: "サンセッテ21", position: { lat: 34.995845599924486, lng: 135.95419887739197 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1sWRCkktj_VlWDt7a-hPv6FtNAsUaGF8fFk-4WnxS0O4/edit?usp=sharing", active: false },
      { name: "サンフレッチェ21", position: { lat: 34.99406582291649, lng: 135.95436767574418 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1gcBsAaAoEAhX0fdL5fCZzE_RhItaZM3apadqZ4wXk4Y/edit?usp=sharing", active: false },
      { name: "スチューデント福井", position: { lat: 34.99366794280631, lng: 135.95334644453203 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Lnqas5dZra6u1hKMXM0A54y-OcPWG4NzspyvVpBxqG0/edit?usp=sharing", active: false },
      { name: "センチュリー玉川", position: { lat: 34.99533776607898, lng: 135.95821986233543 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1eRus8Tyx3d27p246o6L4JwyVoR_459MWO-T9VXzITCU/edit?usp=sharing", active: false },
      { name: "ドーミトゥリィ南草津", position: { lat: 34.99036026833147, lng: 135.95312372840962 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1FeO0tkIevdz-maJ0tuqHXENr49BUelAI6gLjAhwXmxI/edit?usp=sharing", active: false },
      { name: "ニューサンライズ", position: { lat: 34.99535369138517, lng: 135.95407399664128 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1x1Ec-w4S1elqTECj6YM5vMR5UNNIxuiNuAOnP5sB72w/edit?usp=sharing", active: false },
      { name: "ハイツ玉川Ⅴ", position: { lat: 34.99308586314734, lng: 135.9495522402993 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1vvIMKOSavNZMu7dXRIAgdpk_nyS6ZnKYafD3yNUNCOQ/edit?usp=sharing", active: false },
      { name: "ブエナビスタ南草津", position: { lat: 34.99112421370992, lng: 135.9569687056458 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1h5VBkHoGjFwVJo38WvGVxxHz92Gfg6TlHWw2R6pEe94/edit?usp=sharing", active: false },
      { name: "フェリシア・トンボ", position: { lat: 34.99457220023757, lng: 135.95629314657873 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1XFuXnBBrH18VIenzbA36elA8IOtEU83jW7aXRPZh684/edit?usp=sharing", active: false },
      { name: "ブライト45", position: { lat: 34.991816581850514, lng: 135.95063351895527 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ZjqhKiXVepDqb3WoUNKkFrxA3-iNFMvaLFUX5SOpZNw/edit?usp=sharing", active: false },
      { name: "マリーベル南草津", position: { lat: 34.99283486814556, lng: 135.95276213767232 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1qGMlWYeiWBzq6Uap9NGlk78ffVSnWoFY3tNgnlMJ-fU/edit?usp=sharing", active: false },
      { name: "ユニティ南草津", position: { lat: 34.99017787602575, lng: 135.9533909686157 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1gSedzZLK9joq7sBGIcwHKAOPyaaQGJ7scMRFC6Q1oE0/edit?usp=sharing", active: false },
      { name: "ルミエール", position: { lat: 34.99199005549075, lng: 135.95010896771015 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Ge_QHxQYCoreslSjOhzolKSxDJu5orNuicfgkSHZQgI/edit?usp=sharing", active: false },
      { name: "レイクシャトーキョウワ", position: { lat: 34.99153840350996, lng: 135.95252778744145 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1JWxhiQTJ_sAh5Uq_MBpowElEkdXsMMeE8-P69yEHkSQ/edit?usp=sharing", active: false },
      { name: "レインボーシティレックⅡ", position: { lat: 34.9951928477737, lng: 135.95507027664576 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1cXC_QGkKh_axuVEocUXiIrqDoUQw49K5a_6Wg0Zx-aE/edit?usp=sharing", active: false },
      { name: "レインボーシティレックⅢ", position: { lat: 34.99503540876596, lng: 135.95523819722587 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1-FNBTlc0INC-j3OzBx_v5fycCQp9wDVvJOJbQeBISoU/edit?usp=sharing", active: false },
      { name: "レインボーシティレックⅣ", position: { lat: 34.99433904485823, lng: 135.95615385578125 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1cdZ0K7lh7DJvxC2aoUsvhEm994J4d1q2USDsEEmXxpU/edit?usp=sharing", active: false },
      { name: "梨桃館", position: { lat: 34.99424425914121, lng: 135.95294104050814 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1YzqvWwGcDKI_drcP1Xbv_CJN1sdKzQ7wzaJS8vN6ZXY/edit?usp=sharing", active: false },
      { name: "梨桃館Ⅱ", position: { lat: 34.994175231825295, lng: 135.95331473765106 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1zhrnVOAwFnXqYnEA48DkqCADveHhgzWQyD1Z7a0M3z8/edit?usp=sharing", active: false },
      { name: "梨桃館Ⅲ", position: { lat: 34.994576374480786, lng: 135.95288329098747 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1sRIXpKNOOHSJqYyxdxhSMJi8X8T_hodeIKJDlkWpQH0/edit?usp=sharing", active: false },
      //13-nojicho
      { name: "カレッジコート下北池", position: { lat: 35.00687240636768, lng: 135.9492053960978 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1GzqhhPwTVuFrJweXEX-b7ZyK9FQNCnr6T-BAizjb1R8/edit?usp=sharing", active: false },
      { name: "ソレイユ豊Ⅰ", position: { lat: 35.00648648155583, lng: 135.9436061244428 }, sheetUrl: "https://docs.google.com/spreadsheets/d/16jFzwP54f7Z1p03_On_3klAJqzNfDcbqVeFxv4G5SxY/edit?usp=sharing", active: false },
      { name: "ソレイユ豊Ⅱ", position: { lat: 35.0065090421839, lng: 135.9434993726106 }, sheetUrl: "https://docs.google.com/spreadsheets/d/10I_0pBlperK8pGkSVUlEo8tKOtWDWfF36U3lr8b4ABE/edit?usp=sharing", active: false },
      { name: "パビヨン南草津Ⅱ", position: { lat: 35.00691760813448, lng: 135.9398673505916 }, sheetUrl: "https://docs.google.com/spreadsheets/d/15npg-uh3a_sJm_Zm5QAZEfsqabn6ZLA6sCWaiReCSIc/edit?usp=sharing", active: false },
      { name: "珠光ビル南草津", position: { lat: 35.00556807492419, lng: 135.94821779913102 }, sheetUrl: "https://docs.google.com/spreadsheets/d/14j0jDtNjzAVRjUQZObY171V_ndrXpfQn3m5wGDUiEm4/edit?usp=sharing", active: false },
      //14-kasayama
      { name: "Angelique", position: { lat: 34.98460803816041, lng: 135.94432153462714 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1mrUqi48pVSGNcglqAI8qZAZzn9usIwCx8QyhVADlJas/edit?usp=sharing", active: false },
      { name: "BEL PALAZZO", position: { lat: 34.984909722242506, lng: 135.94701051045888 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1j4uZjmQK7bkAt-BGjksMYggi6NhEz_KSr0pMfrNDUiA/edit?usp=sharing", active: false },
      { name: "NasicMate梨園", position: { lat: 34.98537616902788, lng: 135.94582606741668 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1W9rXsOWL-PhJ3fu7B9ySB8Yua4CZT-Hq8cufftYsplI/edit?usp=sharing", active: false },
      { name: "PALACIO K2", position: { lat: 34.9928749, lng: 135.9501628 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1mrMsAOh3Bu4VPPOciE5FNImgWMgqPoo4zAl3tKDgN54/edit?usp=drivesdk", active: false },
      { name: "Pronity Hill", position: { lat: 34.99062233029257, lng: 135.94624268084655 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1RCdKpnc10v9AStjsxUwZcJazC02gIEQqKZE3UVaY6CA/edit?usp=sharing", active: false },
      { name: "UCD-LEO", position: { lat: 34.98155703569726, lng: 135.94979345676242 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1sAAOUZ6WMnrIhHz7t_9T3JzTBjDIkiPl4xRFWZXU4xc/edit?usp=sharing", active: false },
      { name: "UCD-LEOⅡ", position: { lat: 34.9818673019961, lng: 135.94987312605 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1kCB499CH9LZ64DxUcDIOtfVPxweJU_dZRf4UkmGhbD4/edit?usp=sharing", active: false },
      { name: "UCD-V", position: { lat: 34.992110630173585, lng: 135.94674524202154 }, sheetUrl: "https://docs.google.com/spreadsheets/d/17NKt6cSfWJzlPcBLGPLuY09San_IGgk5S2FGL6sR9ww/edit?usp=sharing", active: false },
      { name: "イタニティイハラ", position: { lat: 34.989611431382905, lng: 135.9438333645143 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1xBE9X8HURMaC-zQ7t2Rjj5sdxgWKK4fDJ18aOulY-WY/edit?usp=sharing", active: false },
      { name: "エクセルシオール", position: { lat: 34.98242202205875, lng: 135.94646331813072 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1u59HGE9BPtqXCpP9VR94GSQAAIyVXkl9YQuDWTN9PWQ/edit?usp=sharing", active: false },
      { name: "グラスライト", position: { lat: 34.9849257, lng: 135.9453439 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1rBXIr-MPCXVhhcQUOPT76r3veu46v2rM_TgQYnBgRbk/edit?usp=drivesdk", active: false },
      { name: "グッドライフ南草津", position: { lat: 34.996455209880416, lng: 135.948631271907 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Uup29QRVRhP3YZigHpUj7D6y6_FJkVkVsafa8r6yizI/edit?usp=sharing", active: false },
      { name: "クレスト草津", position: { lat: 34.98135720065756, lng: 135.95137275707415 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1ZrLN1jBI9oMHshMZHhyVxQfSjEdI7b3q7l9rQie-Q8A/edit?usp=sharing", active: false },
      { name: "クローバーハイツⅡ", position: { lat: 34.98783495859124, lng: 135.9443829168178 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1VEV-0Kn4OZjDBNW_wkMVWykOS2B6Qlv4CS0VotKqwRk/edit?usp=sharing", active: false },
      { name: "クローバーハイツⅢ", position: { lat: 34.9872471, lng: 135.9443371 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1pI2JAnJyQx_8b8vbwRZvPkd6rhY35tEkEXNCSzXRta4/edit?usp=drivesdk", active: false },
      { name: "サニーサイドテラスK", position: { lat: 34.988800086262856, lng: 135.94452990301207 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1XlZkr6KD1s413QPCFWcG2DbtuuhJvTHlry3QY2NxBSI/edit?usp=sharing", active: false },
      { name: "パライッソ ユミ", position: { lat: 34.985953338777534, lng: 135.9471978071633 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1fhxuyX-Q6v2XRYkWPkQYjGf-1tf7dOZ5-WJqhFIRHBk/edit?usp=sharing", active: false },
      { name: "パレ南笠さわらび", position: { lat: 34.98472112689515, lng: 135.94730811801242 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1W1ajiJtec012E_NfOlEqCFfukHgAZIA2-vj7e2ieCuI/edit?usp=sharing", active: false },
      { name: "ピュアドミトリー清水", position: { lat: 34.98468744491952, lng: 135.94819442131805 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1oJUygDsQ7EPA-WAd1VqKY5iDvMpUsofdLhoghk4HgzY/edit?usp=sharing", active: false },
      { name: "メゾン玉川フカオ", position: { lat: 34.9936527278403, lng: 135.95849668566092 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1S9Fb_DXm2lOZBRW4a7qEOLh6AwW2OHAktgkcNNUTkGM/edit?usp=sharing", active: false },
      { name: "メゾン壽", position: { lat: 34.983674076780815, lng: 135.9443366306023 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1kKBZ5HsL6QM6Jkt6Cg9oYsjs_gDqP3G4pjZD-ksjAIc/edit?usp=sharing", active: false },
      { name: "ユニエミール南草津", position: { lat: 34.9829606495247, lng: 135.94602503141084 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1IZKyq8jBEdGOXtD1W4iGNOf-hiEGxi0qEnRUwLpKFBE/edit?usp=sharing", active: false },
      { name: "ライズワールドイハラ", position: { lat: 34.98376399424275, lng: 135.95018363209238 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1XUf80vXqRLMz36TAYw1pyM-32vxmKqH2jVcP7Xr05zA/edit?usp=sharing", active: false },
      { name: "ラヴィニア・キタムラ", position: { lat: 34.986698024379194, lng: 135.9463517149693 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1TtnqxPyYLM7yx9iXaHJ0aEWmH5jZOPZrMAZIKP7mEbY/edit?usp=sharing", active: false },
      { name: "ラヴィニア・キタムラⅡ", position: { lat: 34.9865450, lng: 135.9460621 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1YBytTUOKko4IYhEg9NzutUcOyXTkYJERLea0GgRPVPc/edit?usp=drivesdk", active: false },
      { name: "リバティヒルズⅡ", position: { lat: 34.9876547, lng: 135.9464791 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1RitZlP6mHD-gNCuRtwoIy3_DobD1pVCVpbOgaLY1ajI/edit?usp=drivesdk", active: false }, 
      //15-minamigasahigashi
      { name: "花梨35", position: { lat: 34.990806100551445, lng: 135.94168311258508 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1y_-KkdN4ssWv5kpRX2e0PknsdIdMSFhA_Bu9EtzNk6o/edit?usp=sharing", active: true },
      { name: "ベルメゾンF1", position: { lat: 34.993439935732056, lng: 135.94676250940697 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1CQDq6eQpp2YjRKk_MQ-0zT5UIn1BeFkN_Ju_WrxT0U0/edit?usp=sharing", active: true },
      { name: "ノースビレッジ草津", position: { lat: 34.994186045559864, lng: 135.94435776857915 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1yCMhxM1DZLwOhzoFpneeXpox-T_5cEgpqdO7l-cdIbY/edit?usp=sharing", active: true },
      { name: "コウジィコートKYOEI", position: { lat: 34.98959587253491, lng: 135.94295833613617 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1zlJn_P5uRoAJurr4SFhZFvVTjWmKERZkdYvT0XFYVaI/edit?usp=sharing", active: true },
      { name: "グッドライフ南草津Ⅱ", position: { lat: 34.992309139260875, lng: 135.94314646999382 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1yffx1IdqripFOrKlagPH3q-HEL3OJb9pGGi7_PbW9JM/edit?usp=sharing", active: true },
      { name: "VIVACE南笠", position: { lat: 34.99377516317225, lng: 135.94086277245717 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1u5ereBzdFLGGqTpmSym6x8DvyR1r_BnYzGfb-xWflyI/edit?usp=sharing", active: true },
      //17-kinokawacho
      { name: "ファミール御池", position: { lat: 35.018474035930375, lng: 135.94418024863646 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1gqASV2L9f_qsktyjs2c0KA1RNJDT3JXoga-EvEvXgnA/edit?usp=sharing", active: true },
      { name: "シャルマントリシティ", position: { lat: 35.01829550903229, lng: 135.94191862425924 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1fKJubQH6cZkQCFBZVTJ-ss1c5HmfTiyVZWT2Sqk3cQA/edit?usp=sharing", active: true },
      //18-hashiokacho
      { name: "ベル・エポック", position: { lat: 35.01132417527419, lng: 135.93638232502474 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1mWSM7mz_4X-jQwfLo9Roiy6EyTa2S8pGLoOHu98Xgd0/edit?usp=sharing", active: false },
      { name: "ワイズレジデンス南草津", position: { lat: 35.01083182004525, lng: 135.93394539841438 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1rd314XQwS_XMt6TPaOE28UabqPf7LaAG3mGkDBTiS5A/edit?usp=sharing", active: false },
      //19-yabasecho
      { name: "BonnardDiacort新浜", position: { lat: 34.99631530425867, lng: 135.91545919827578 }, sheetUrl: "https://docs.google.com/spreadsheets/d/13D2cgUpQOC5MEa8f3yELRgTBvlMJw1qI4grFGHyySvY/edit?usp=sharing", active: false },
      { name: "CASA SOLAZZO弐番館", position: { lat: 35.009159508122686, lng: 135.93515124603098 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1-jyhWQhPcQDqbMQjfQB9XxwTffK-zWvlOlTlTCFRfB4/edit?usp=sharing", active: false },
      { name: "CASA SOLLAZZO壱番館", position: { lat: 35.009159031112056, lng: 135.93515042827303 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1Y2dATL26iROtVXzLqeT8H3AhHVWF7ykHNQ0vxRRPyPY/edit?usp=sharing", active: false },
      { name: "J&K's FAVORITE", position: { lat: 35.00963310035379, lng: 135.935548391931 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1qtLu8YFyKz355yPqKKgx5nancGal9ZbNFD-Gve_oGhw/edit?usp=sharing", active: false },
      { name: "紅梅", position: { lat: 35.01013358573543, lng: 135.93335602639934 }, sheetUrl: "https://docs.google.com/spreadsheets/d/1BlkWk1ZEPBE0xhBoU1WFezsLqXwnu1tuSDX-7vAI1CA/edit?usp=sharing", active: false },
    ];

      function convertSheetToCsvUrl(sheetUrl) {
        const m = sheetUrl.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);
        if (!m) return null;
        const sheetId = m[1];
        
        // 特定のGIDを指定せず、スプレッドシート全体のデータをCSVとして書き出す設定に変更
        // 後の処理で「部屋一覧」という名前のシートを特定します
        return `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent("部屋一覧")}`;
      }

      async function fetchVisitStatus(apt) {
      if (!apt.active || !apt.sheetUrl) return { color: "default" };
      try {
        const res = await fetch(convertSheetToCsvUrl(apt.sheetUrl));
        const text = await res.text();
        
        // CSVの各行をパース（カンマで分割。引用符がある場合も考慮）
        const rows = text.split(/\r?\n/).map(row => {
          // 引用符 " で囲まれた値を考慮して分割
          return row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(cell => cell.replace(/^"|"$/g, '').trim());
        });
        
        let totalRooms = 0;
        let enteredCount = 0;

        // 2行目以降（ヘッダーを除いた実データ部分）をスキャン
        // ※ gviz/tq を使うとインデックスが変わる可能性があるため、全体を確認
        for (let i = 0; i < rows.length; i++) {
          const row = rows[i];
          if (!row || row.length < 2) continue;

          const room = row[0]; // 1列目: 部屋番号
          const visit = row[1]; // 2列目: 訪問状況

          // 【重要】部屋番号が「数字のみ」または「号室」などの文字を含む、
          // かつ明らかにシステム的なヘッダーや空行でない場合のみカウント
          if (room && room !== "" && !room.includes("部屋番号") && !room.includes("table")) {
            totalRooms++;
            // 訪問状況に文字が入っていればカウント
            if (visit && visit !== "") {
              enteredCount++;
            }
          }
        } 

        if (totalRooms === 0) return { color: "default" };

        const ratio = enteredCount / totalRooms;
        console.log(`${apt.name}: ${enteredCount}/${totalRooms} (${(ratio * 100).toFixed(1)}%)`);

        // 判定ロジック
        if (ratio >= 1.0) return { color: "red" };
        if (ratio >= 0.5) return { color: "yellow" };
        return { color: "default" };
      } catch (e) { 
        console.error(`${apt.name} のデータ取得失敗:`, e);
        return { color: "default" }; 
      }
    }

    async function addApartmentMarkers() {
      const scales = getMarkerScale();
      
      apartments.forEach((apt) => {
        // 1. まずは「デフォルト色（青緑）」で即座にマーカーを作成して表示
        const marker = new google.maps.Marker({
          position: apt.position,
          map: map,
          title: apt.name,
          icon: {
            // 軽量化したピン型パス（計算負荷が低い）
            path: "M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",
            fillColor: apt.active ? "#00A0A0" : "#808080", // デフォルト色、グレーアウト色
            fillOpacity: 1.0,
            strokeColor: "white",
            strokeWeight: 1.5,
            scale: scales.apt * 70, // パスが小さいため、係数を掛けて調整
            anchor: new google.maps.Point(12, 22)
          }
        });

        // 2. クリックイベントは即座に登録（データ読み込みを待たずに開ける）
        if (apt.active && apt.sheetUrl) {
          marker.addListener("click", () => window.open(apt.sheetUrl, "_blank"));
          
          // 3. 非同期で個別にステータス（スプレッドシート）を確認
          // 完了したピンから順次、色を更新していく
          fetchVisitStatus(apt).then(result => {
            let newColor = !apt.active ? "#808080" : 
                          (result.color === "red" ? "#E53935" : 
                          (result.color === "yellow" ? "#FBC02D" : "#00A0A0"));
            
            const icon = marker.getIcon();
            if (icon.fillColor !== newColor) {
              icon.fillColor = newColor;
              marker.setIcon(icon); // 色だけを更新
            }
          });
        }
        apartmentMarkerObjects.push(marker);
      });
    }

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), { center: INITIAL_CENTER, zoom: 16 });
      addApartmentMarkers();

      if (navigator.geolocation) {
        navigator.geolocation.watchPosition(
          position => {
            const userPos = { lat: position.coords.latitude, lng: position.coords.longitude };
            const scales = getMarkerScale();
            
            if (!userMarker) {
              shadowMarker = new google.maps.Marker({
                position: userPos, map: map, zIndex: 1,
                icon: { path: google.maps.SymbolPath.CIRCLE, scale: scales.user * 1.4, fillColor: "black", fillOpacity: 0.2, strokeWeight: 0 }
              });
              userMarker = new google.maps.Marker({
                position: userPos, map: map, zIndex: 2, title: "現在地",
                icon: { path: google.maps.SymbolPath.CIRCLE, scale: scales.user, fillColor: "#4285F4", fillOpacity: 1, strokeWeight: 2, strokeColor: "white" }
              });
              map.setCenter(userPos);
            } else {
              userMarker.setPosition(userPos);
              shadowMarker.setPosition(userPos);
            }
          },
          error => {
            console.warn(error.message);
          },
          { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
        );
      }

      // アニメーション処理
      setInterval(() => {
        if (!userMarker) return;
        const base = getMarkerScale().user;
        const icon = userMarker.getIcon(); // アイコンを取得
        let s = icon.scale;

        if (isGrowing) {
          s += 0.3;
          if (s >= base * 1.3) isGrowing = false;
        } else {
          s -= 0.3;
          if (s <= base) isGrowing = true;
        }

        icon.scale = s;
        userMarker.setIcon(icon);
      }, 100);

      // リサイズ時にアイコンを即座に更新
      window.addEventListener('resize', () => {
        const s = getMarkerScale();
        apartmentMarkerObjects.forEach(m => { 
          const i = m.getIcon(); 
          if (i) { // ← これを追加
            i.scale = s.apt * APT_SCALE_FACTOR;
            m.setIcon(i); 
          }
        });

        if (userMarker) { 
          const i = userMarker.getIcon(); 
          if (i) { // ← これを追加
            i.scale = s.user; 
            userMarker.setIcon(i);
          }
        }
      });
    }
  </script>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCH5MfDcxPbehciSlK36IrnVPH2LTBUQ_A&callback=initMap" async defer></script>
</body>

</html>
